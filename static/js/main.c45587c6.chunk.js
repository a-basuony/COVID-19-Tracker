(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(0),s=a.n(n),r=a(8),i=a.n(r),o=(a(111),a(92)),l=a(17),u=a.n(l),d=a(38),j=a(11),v=(a(113),a(114),a.p+"static/media/logo.ae9f1d32.png"),h=a(60),f=a.n(h),b=a(258),p=a(259),O=a(264),x=a(249),m=a(253),y=a(260),g=a(98),w=a.n(g),N=a(13),_=(a(115),a(254)),C=a(99),k=a(39),S=a.n(k),D=function(e){return Object(C.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},B=function(e,t,a){return S()(e).format((a&&"+")+"0,0"+(t&&"".concat(Math.abs(e)>1e3?".":"","0a")))},M={cases:{hex:"#FB4443",lighter:"#F5AAA7",multiplier:150},active:{hex:"#E67300",lighter:"#EDBD8C",multiplier:350},recovered:{hex:"#7DD71D",lighter:"#C3E598",multiplier:150},deaths:{hex:"#CC1034",lighter:"#E395A1",multiplier:1e3},vaccinations:{hex:"#009C9D",lighter:"#00D8D8",multiplier:2e5}};var T=function(e){var t=e.title,a=e.cases,n=e.total,s=e.active,r=e.value,i=Object(N.a)(e,["title","cases","total","active","value"]);return Object(c.jsx)(x.a,{onClick:i.onClick,className:"infoBox  ".concat(s&&"infoBox--selected"," ").concat("infoBox--"+r),children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(_.a,{className:"infoBox__title",color:"textSecondary",children:t}),Object(c.jsx)("h2",{className:"infoBox__cases ".concat("infoBox__cases--"+r),children:null===a?"Data not updated":B(a,!0,!0)}),Object(c.jsxs)(_.a,{className:"infoBox__total",color:"textSecondary",children:[B(n,!0)," total"]})]})})};a(119);var A=function(e){var t=e.countries,a=Object(N.a)(e,["countries"]);return Object(c.jsx)("div",{className:a.className,children:Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.country}),Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:B(e.cases)})})]},e.country)}))})})})},I=a(255),z=a(262),E=a(256),F=a(257),L=a(263);a(120);function R(e){var t=e.center,a=e.zoom;return Object(I.a)().flyTo(t,a,{animate:!0,duration:1.25,easeLinearity:.25}),null}function q(e,t,a){return"vaccinations"!==e?Math.sqrt(Math.abs(t[e])+1)*M[e].multiplier:isNaN(Math.sqrt(a[t.country]/t.population)*M[e].multiplier)?1:Math.sqrt(a[t.country]/t.population)*M[e].multiplier}function V(e,t){var a,n,s,r=e.countries,i=e.vaccinations,o=e.activeCaseType,l=e.center,u=e.zoom,d=Object(N.a)(e,["countries","vaccinations","activeCaseType","center","zoom"]);return Object(c.jsx)("div",{className:d.className,ref:t,children:Object(c.jsxs)(F.a,{center:l,zoom:u,scrollWheelZoom:!1,children:[Object(c.jsx)(R,{center:l,zoom:u}),Object(c.jsx)(L.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(a=r,n=i,s=o,a.map((function(e){return Object(c.jsx)(z.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,pathOptions:{color:M[s].hex,fillColor:M[s].hex},radius:q(s,e,n),children:Object(c.jsx)(E.a,{className:"info",children:Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(c.jsx)("div",{className:"info-name",children:e.country}),Object(c.jsxs)("div",{className:"info-cases",children:["Total cases: ",B(e.cases)]}),Object(c.jsxs)("div",{className:"info-active",children:["Active cases: ",B(e.active)]}),Object(c.jsxs)("div",{className:"info-recovered",children:["Recoveries: ",B(e.recovered)]}),Object(c.jsxs)("div",{className:"info-deaths",children:["Deaths: ",B(e.deaths)]}),Object(c.jsxs)("div",{className:"info-vaccinations",children:["Vaccinated:"," ",(t=(null===n||void 0===n?void 0:n[e.country])/2/e.population,S()(t).format("0.0%"))]})]})})},e.country);var t})))]})})}var J=Object(n.forwardRef)(V),P=a(97),U={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!0,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return S()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return S()(e).format("0a")}}}]}},W=function(e){var t,a,c,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",r=[];for(var i in c="vaccinations"===n?"all"===s?e:e.timeline:"all"===s?null===e||void 0===e?void 0:e.cases:null===e||void 0===e||null===(t=e.timeline)||void 0===t?void 0:t.cases){var o=c[i];if(a){var l={x:i,y:Math.abs(o-a)};r.push(l)}a=o}return r};var Y=function(e){var t=e.casesType,a=e.country,s=Object(N.a)(e,["casesType","country"]),r=Object(n.useState)({}),i=Object(j.a)(r,2),o=i[0],l=i[1],v=Object(n.useState)("worldwide"),h=Object(j.a)(v,2),f=h[0],b=h[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t,n="worldwide"===a?"all":a.toLowerCase(),e.next=4,fetch("vaccinations"===t?"https://disease.sh/v3/covid-19/vaccine/coverage".concat("all"===n?"":"/countries/".concat(n),"?lastdays=120"):"https://disease.sh/v3/covid-19/historical/".concat(n,"?lastdays=120")).then((function(e){return e.ok?e.json():null})).then((function(e){if(null!==e){b("worldwide"!==a?e.country:"worldwide");var t=W(e,c,n);l(t)}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,a]),Object(c.jsxs)("div",{className:s.className,children:[Object(c.jsxs)("h3",{children:[f," New"," ","active"===t||"recovered"===t?"Cases":t]}),(null===o||void 0===o?void 0:o.length)>0&&Object(c.jsx)(P.Line,{data:{datasets:[{backgroundColor:"".concat(M[t].lighter),borderColor:"".concat(M[t].hex),data:o}]},options:U})]})};var Z=function(){var e=[34.80746,15.4796],t=Object(n.useState)([]),a=Object(j.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)("worldwide"),l=Object(j.a)(i,2),h=l[0],g=l[1],N=Object(n.useState)([]),_=Object(j.a)(N,2),C=_[0],k=_[1],S=Object(n.useState)({}),B=Object(j.a)(S,2),M=B[0],I=B[1],z=Object(n.useState)({}),E=Object(j.a)(z,2),F=E[0],L=E[1],R=Object(n.useState)(),q=Object(j.a)(R,2),V=q[0],P=q[1],U=Object(n.useState)("cases"),W=Object(j.a)(U,2),Z=W[0],G=W[1],H=Object(n.useState)([]),K=Object(j.a)(H,2),Q=K[0],X=K[1],$=Object(n.useState)(e),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ce=Object(n.useState)(2),ne=Object(j.a)(ce,2),se=ne[0],re=ne[1],ie=Object(n.useState)(!1),oe=Object(j.a)(ie,2),le=oe[0],ue=oe[1],de=Object(n.useRef)(),je="https://www.disease.sh/v3/covid-19/",ve=je+"vaccine/coverage/";Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(je+"countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}}));r(t),k(e),X(D(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ve+"countries").then((function(e){return e.json()})).then((function(e){var t,a={},c=Object(o.a)(e);try{for(c.s();!(t=c.n()).done;){var n=t.value;a[n.country]=Object.values(n.timeline)[0]}}catch(s){c.e(s)}finally{c.f()}P(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[ve]),Object(n.useEffect)((function(){var t="worldwide"===h?je+"all":je+"countries/".concat(h,"?allowNull=true"),a="worldwide"===h?ve+"?lastdays=3":ve+"countries/".concat(h,"?lastdays=3");fetch(t).then((function(e){return e.json()})).then((function(a){null===a.todayCases?(ue(!0),fetch(t+"&yesterday=true").then((function(e){return e.json()})).then((function(e){return I(e)}))):(I(a),ue(!1)),ae("worldwide"===h?e:[a.countryInfo.lat,a.countryInfo.long])})),fetch(a).then((function(e){return e.json()})).then((function(e){"worldwide"!==h&&(e=e.timeline),L(e)}))}),[h]);var he=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,g(a),re("worldwide"===a?2:4);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsxs)("div",{className:"app__left",children:[Object(c.jsxs)("div",{className:"app__header",children:[Object(c.jsx)("img",{className:"app__header__logo",src:v,alt:"logo"}),Object(c.jsx)("h1",{children:"COVID-19 Tracker"}),Object(c.jsx)(b.a,{className:"app__dropdown",children:Object(c.jsxs)(p.a,{variant:"outlined",value:h,onChange:he,children:[Object(c.jsx)(O.a,{value:"worldwide",children:"Worldwide"}),s.map((function(e){return Object(c.jsx)(O.a,{value:e.value,children:e.name},e.name)}))]})})]}),Object(c.jsx)("div",{className:"app__lastUpdated",children:Object(c.jsx)(y.a,{className:"app__lastUpdated__alert"+(le?"--warning":"--info"),severity:le?"warning":"info",icon:Object(c.jsx)(w.a,{fontSize:"inherit"}),children:"Figures updated "+(le?f()().subtract(1,"days").fromNow():f()(M.updated).fromNow())})}),Object(c.jsxs)("div",{className:"app__stats",children:[Object(c.jsx)(T,{active:"cases"===Z,title:"Total Cases",value:"cases",cases:M.todayCases,total:M.cases,onClick:function(e){return G("cases")}}),Object(c.jsx)(T,{active:"active"===Z,title:"Active Cases",value:"active",cases:null===M.todayCases?null:M.todayCases-M.todayRecovered,total:M.active,onClick:function(e){return G("active")}}),Object(c.jsx)(T,{active:"recovered"===Z,title:"Recovered",value:"recovered",cases:M.todayRecovered,total:M.recovered,onClick:function(e){return G("recovered")}}),Object(c.jsx)(T,{active:"deaths"===Z,title:"Deaths",value:"deaths",cases:null===M.todayCases?null:null===M.todayDeaths?0:M.todayDeaths,total:M.deaths,onClick:function(e){return G("deaths")}}),Object(c.jsx)(T,{active:"vaccinations"===Z,title:"Vaccinations",value:"vaccinations",cases:Math.abs(Object.values(F)[0]-Object.values(F)[1]),total:Object.values(F)[0],onClick:function(e){return G("vaccinations")}})]}),Object(c.jsx)(J,{className:"app__map",countries:C,vaccinations:V,activeCaseType:Z,center:te,zoom:se,ref:de})]}),Object(c.jsxs)("div",{className:"app__right",children:[Object(c.jsx)(x.a,{children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)("h3",{children:"Live Cases by Country"}),Object(c.jsx)(A,{className:"app__table",countries:Q}),Object(c.jsx)(Y,{className:"app__graph",casesType:"active"===Z||"recovered"===Z?"cases":Z,country:h})]})}),Object(c.jsxs)("p",{className:"app__king",children:["Made with  "," ",Object(c.jsx)("a",{href:"https://a-basuony.github.io/my-portfolio/",target:"_blank",rel:"noreferrer",children:"Ahmed Basuony"})]})]})]})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,266)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Z,{})}),document.getElementById("root")),G()}},[[220,1,2]]]);
//# sourceMappingURL=main.c45587c6.chunk.js.map